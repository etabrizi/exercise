{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/emyrtabrizi/Desktop/Gymshark /app/exercise/components/container.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction reducer(currentSrc, action) {\n  if (action.type === 'main image loaded') {\n    return action.src;\n  }\n\n  if (!currentSrc) {\n    return action.src;\n  }\n\n  return currentSrc;\n}\n\nfunction useProgressiveImage(_ref) {\n  var src = _ref.src,\n      fallbackSrc = _ref.fallbackSrc;\n\n  var _React$useReducer = React.useReducer(reducer),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      currentSrc = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  React.useEffect(function () {\n    var mainImage = new Image();\n\n    mainImage.onload = function () {\n      dispatch({\n        type: 'main image loaded',\n        src: src\n      });\n    };\n\n    mainImage.src = src;\n  }, [src]);\n  return currentSrc;\n}\n\nfunction Container() {\n  var src = useProgressiveImage({\n    src: 'https://images.unsplash.com/photo-1557287500-9abe7134457f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80',\n    fallbackSrc: 'https://images.unsplash.com/photo-1557287500-9abe7134457f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=200&q=20'\n  });\n  return __jsx(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: src,\n    alt: \"\",\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }));\n}\n\nexport default Container;","map":{"version":3,"sources":["/Users/emyrtabrizi/Desktop/Gymshark /app/exercise/components/container.js"],"names":["React","ReactDOM","reducer","currentSrc","action","type","src","useProgressiveImage","fallbackSrc","useReducer","dispatch","useEffect","mainImage","Image","onload","Container","width"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAGA,SAASC,OAAT,CAAiBC,UAAjB,EAA6BC,MAA7B,EAAqC;AACjC,MAAIA,MAAM,CAACC,IAAP,KAAgB,mBAApB,EAAyC;AACrC,WAAOD,MAAM,CAACE,GAAd;AACH;;AACD,MAAI,CAACH,UAAL,EAAiB;AACb,WAAOC,MAAM,CAACE,GAAd;AACH;;AACD,SAAOH,UAAP;AACH;;AAED,SAASI,mBAAT,OAAmD;AAAA,MAApBD,GAAoB,QAApBA,GAAoB;AAAA,MAAfE,WAAe,QAAfA,WAAe;;AAAA,0BAChBR,KAAK,CAACS,UAAN,CAAiBP,OAAjB,CADgB;AAAA;AAAA,MACxCC,UADwC;AAAA,MAC5BO,QAD4B;;AAE/CV,EAAAA,KAAK,CAACW,SAAN,CAAgB,YAAM;AAClB,QAAMC,SAAS,GAAG,IAAIC,KAAJ,EAAlB;;AAEAD,IAAAA,SAAS,CAACE,MAAV,GAAmB,YAAM;AACrBJ,MAAAA,QAAQ,CAAC;AAAEL,QAAAA,IAAI,EAAE,mBAAR;AAA6BC,QAAAA,GAAG,EAAHA;AAA7B,OAAD,CAAR;AACH,KAFD;;AAKAM,IAAAA,SAAS,CAACN,GAAV,GAAgBA,GAAhB;AAEH,GAVD,EAUG,CAACA,GAAD,CAVH;AAYA,SAAOH,UAAP;AACH;;AAED,SAASY,SAAT,GAAqB;AACjB,MAAMT,GAAG,GAAGC,mBAAmB,CAAC;AAC5BD,IAAAA,GAAG,EACC,qIAFwB;AAG5BE,IAAAA,WAAW,EACP;AAJwB,GAAD,CAA/B;AAMA,SACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAEF,GAAV;AAAe,IAAA,GAAG,EAAC,EAAnB;AAAsB,IAAA,KAAK,EAAE;AAAEU,MAAAA,KAAK,EAAE;AAAT,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH;;AAGD,eAAeD,SAAf","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\n\nfunction reducer(currentSrc, action) {\n    if (action.type === 'main image loaded') {\n        return action.src;\n    }\n    if (!currentSrc) {\n        return action.src;\n    }\n    return currentSrc;\n}\n\nfunction useProgressiveImage({ src, fallbackSrc }) {\n    const [currentSrc, dispatch] = React.useReducer(reducer);\n    React.useEffect(() => {\n        const mainImage = new Image();\n       \n        mainImage.onload = () => {\n            dispatch({ type: 'main image loaded', src });\n        };\n       \n\n        mainImage.src = src;\n        \n    }, [src]);\n\n    return currentSrc;\n}\n\nfunction Container() {\n    const src = useProgressiveImage({\n        src:\n            'https://images.unsplash.com/photo-1557287500-9abe7134457f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80',\n        fallbackSrc:\n            'https://images.unsplash.com/photo-1557287500-9abe7134457f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=200&q=20',\n    });\n    return (\n        <div className=\"App\">\n            <img src={src} alt=\"\" style={{ width: '100%' }} />\n        </div>\n    );\n}\n\n\nexport default Container;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}