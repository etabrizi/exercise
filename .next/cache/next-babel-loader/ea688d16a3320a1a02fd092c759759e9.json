{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/emyrtabrizi/Desktop/Gymshark /app/exercise/components/container.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\n\nfunction reducer(currentSrc, action) {\n  if (action.type === 'main image loaded') {\n    return action.src;\n  }\n\n  if (!currentSrc) {\n    return action.src;\n  }\n\n  return currentSrc;\n}\n\nfunction useProgressiveImage(_ref) {\n  var src = _ref.src,\n      fallbackSrc = _ref.fallbackSrc;\n\n  var _React$useReducer = React.useReducer(reducer),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      currentSrc = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  React.useEffect(function () {\n    var mainImage = new Image();\n    var fallbackImage = new Image();\n\n    mainImage.onload = function () {\n      dispatch({\n        type: 'main image loaded',\n        src: src\n      });\n    };\n\n    fallbackImage.onload = function () {\n      dispatch({\n        type: 'fallback image loaded',\n        src: fallbackSrc\n      });\n    };\n\n    mainImage.src = src;\n    fallbackImage.src = fallbackSrc;\n  }, [src, fallbackSrc]);\n  return currentSrc;\n}\n\nfunction App() {\n  var src = useProgressiveImage({\n    src: '$',\n    fallbackSrc: 'https://images.unsplash.com/photo-1557287500-9abe7134457f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=200&q=20'\n  });\n  return __jsx(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: src,\n    alt: \"\",\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }));\n}\n\nvar rootElement = document.getElementById('root');\nReactDOM.render(__jsx(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51\n  },\n  __self: this\n}), rootElement);\nexport default Container;","map":{"version":3,"sources":["/Users/emyrtabrizi/Desktop/Gymshark /app/exercise/components/container.js"],"names":["React","ReactDOM","reducer","currentSrc","action","type","src","useProgressiveImage","fallbackSrc","useReducer","dispatch","useEffect","mainImage","Image","fallbackImage","onload","App","width","rootElement","document","getElementById","render","Container"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,OAAO,cAAP;;AAEA,SAASC,OAAT,CAAiBC,UAAjB,EAA6BC,MAA7B,EAAqC;AACnC,MAAIA,MAAM,CAACC,IAAP,KAAgB,mBAApB,EAAyC;AACvC,WAAOD,MAAM,CAACE,GAAd;AACD;;AACD,MAAI,CAACH,UAAL,EAAiB;AACf,WAAOC,MAAM,CAACE,GAAd;AACD;;AACD,SAAOH,UAAP;AACD;;AAED,SAASI,mBAAT,OAAmD;AAAA,MAApBD,GAAoB,QAApBA,GAAoB;AAAA,MAAfE,WAAe,QAAfA,WAAe;;AAAA,0BAClBR,KAAK,CAACS,UAAN,CAAiBP,OAAjB,CADkB;AAAA;AAAA,MAC1CC,UAD0C;AAAA,MAC9BO,QAD8B;;AAEjDV,EAAAA,KAAK,CAACW,SAAN,CAAgB,YAAM;AACpB,QAAMC,SAAS,GAAG,IAAIC,KAAJ,EAAlB;AACA,QAAMC,aAAa,GAAG,IAAID,KAAJ,EAAtB;;AAEAD,IAAAA,SAAS,CAACG,MAAV,GAAmB,YAAM;AACvBL,MAAAA,QAAQ,CAAC;AAAEL,QAAAA,IAAI,EAAE,mBAAR;AAA6BC,QAAAA,GAAG,EAAHA;AAA7B,OAAD,CAAR;AACD,KAFD;;AAGAQ,IAAAA,aAAa,CAACC,MAAd,GAAuB,YAAM;AAC3BL,MAAAA,QAAQ,CAAC;AAAEL,QAAAA,IAAI,EAAE,uBAAR;AAAiCC,QAAAA,GAAG,EAAEE;AAAtC,OAAD,CAAR;AACD,KAFD;;AAIAI,IAAAA,SAAS,CAACN,GAAV,GAAgBA,GAAhB;AACAQ,IAAAA,aAAa,CAACR,GAAd,GAAoBE,WAApB;AACD,GAbD,EAaG,CAACF,GAAD,EAAME,WAAN,CAbH;AAeA,SAAOL,UAAP;AACD;;AAED,SAASa,GAAT,GAAe;AACb,MAAMV,GAAG,GAAGC,mBAAmB,CAAC;AAC9BD,IAAAA,GAAG,EACD,GAF4B;AAG9BE,IAAAA,WAAW,EACT;AAJ4B,GAAD,CAA/B;AAMA,SACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEF,GAAV;AAAe,IAAA,GAAG,EAAC,EAAnB;AAAsB,IAAA,KAAK,EAAE;AAAEW,MAAAA,KAAK,EAAE;AAAT,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD;;AAED,IAAMC,WAAW,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAApB;AACAnB,QAAQ,CAACoB,MAAT,CAAgB,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAhB,EAAyBH,WAAzB;AACA,eAAeI,SAAf","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles.css';\n\nfunction reducer(currentSrc, action) {\n  if (action.type === 'main image loaded') {\n    return action.src;\n  }\n  if (!currentSrc) {\n    return action.src;\n  }\n  return currentSrc;\n}\n\nfunction useProgressiveImage({ src, fallbackSrc }) {\n  const [currentSrc, dispatch] = React.useReducer(reducer);\n  React.useEffect(() => {\n    const mainImage = new Image();\n    const fallbackImage = new Image();\n\n    mainImage.onload = () => {\n      dispatch({ type: 'main image loaded', src });\n    };\n    fallbackImage.onload = () => {\n      dispatch({ type: 'fallback image loaded', src: fallbackSrc });\n    };\n\n    mainImage.src = src;\n    fallbackImage.src = fallbackSrc;\n  }, [src, fallbackSrc]);\n\n  return currentSrc;\n}\n\nfunction App() {\n  const src = useProgressiveImage({\n    src:\n      '$',\n    fallbackSrc:\n      'https://images.unsplash.com/photo-1557287500-9abe7134457f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=200&q=20',\n  });\n  return (\n    <div className=\"App\">\n      <img src={src} alt=\"\" style={{ width: '100%' }} />\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\nexport default Container;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}